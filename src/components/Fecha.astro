---
// Obtener fecha como string desde props
interface Props {
  fecha?: string; // formato: "2025-11-15"
}

const { fecha } = Astro.props;

// Validar fecha


// Si hay fecha, continuar...
let diaNumero = "";
let nombreDia = "";
let nombreMes = "";

if (fecha) {
  // Convertir a objeto Date
  const dateObj = new Date(fecha);

  // Diccionarios de nombres en francés
  const mesesFr = [
    "janvier", "février", "mars", "avril", "mai", "juin",
    "juillet", "août", "septembre", "octobre", "novembre", "décembre"
  ];

  const diasFr = [
    "dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"
  ];

  // Extraer valores
  diaNumero = dateObj.getDate().toString(); // 1-31
  nombreDia = diasFr[dateObj.getDay()]; // lundi, etc.
  nombreMes = mesesFr[dateObj.getMonth()]; // novembre, etc.
}
---

<div id="fecha">
  {fecha ? (
    <>
      <div class="Numerodia">{diaNumero}</div>
      <div class="nombredia">{nombreDia}</div>
      <div class="mes">{nombreMes}</div>
    </>
  ) : (
    <div>Fecha no disponible</div>
  )}
</div>

<style lang="scss">
  #fecha {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1rem;
    background: #f5f5f5;
    border-radius: 8px;
  }
  
  .Numerodia {
    font-size: 2rem;
    font-weight: bold;
    color: #ee3124;
  }
  
  .nombredia, .mes {
    font-size: 0.9rem;
    color: #666;
  }
</style>
---

---

<div id="galeria">
    <img
        src="https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=600&h=800&fit=crop"
        alt="Skiing in mountains"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1605540436563-5bca919ae766?w=600&h=600&fit=crop"
        alt="Ski resort"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1551524164-687a55dd1126?w=600&h=900&fit=crop"
        alt="Mountain skiing"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1498146831523-fbe41acdc5ad?w=600&h=700&fit=crop"
        alt="Ski slopes"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1551582045-6ec9c11d8697?w=600&h=800&fit=crop"
        alt="Winter sports"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1483921020237-2ff51e8e4b22?w=600&h=650&fit=crop"
        alt="Ski school"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=600&h=800&fit=crop"
        alt="Skiing in mountains"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1605540436563-5bca919ae766?w=600&h=600&fit=crop"
        alt="Ski resort"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1551524164-687a55dd1126?w=600&h=900&fit=crop"
        alt="Mountain skiing"
        class="galeria-img"
    />
    <img
        src="https://images.unsplash.com/photo-1498146831523-fbe41acdc5ad?w=600&h=700&fit=crop"
        alt="Ski slopes"
        class="galeria-img"
    />
</div>

<!-- Modal/Lightbox -->
<div id="lightbox" class="lightbox">
    <span class="close-btn">&times;</span>
    <img class="lightbox-content" id="lightbox-img" alt="" />
</div>

<style lang="scss">
    @use "/src/styles/variables.scss" as *;
    #galeria {
        column-count: 4;
        column-gap: 1rem;
        margin-bottom: $margen;
        @include hdplus {
            column-count: 5;
        }
        @include tableta-land {
            column-count: 3;
        }
        @include tableta {
            column-count: 3;
        }
        @include cel {
            padding: 3rem;
            column-count: 2;
        }
    }
    #galeria img {
        width: 100%;
        height: auto;
        margin-bottom: 1rem;
        cursor: pointer;
        transition:
            transform 0.3s ease,
            opacity 0.3s ease;

        &:hover {
            transform: scale(1.02);
            opacity: 0.9;
        }
    }

    /* Lightbox styles */
    .lightbox {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(5px);
        animation: fadeIn 0.3s ease;
    }

    .lightbox.active {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .lightbox-content {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        animation: zoomIn 0.3s ease;
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
    }

    .close-btn {
        position: absolute;
        top: 20px;
        right: 40px;
        color: #fff;
        font-size: 50px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 10000;

        &:hover {
            color: #ff4444;
            transform: scale(1.2);
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes zoomIn {
        from {
            transform: scale(0.8);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }
</style>

<script>
    // Obtener elementos
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById(
        "lightbox-img",
    ) as HTMLImageElement;
    const closeBtn = document.querySelector(".close-btn");
    const galeriaImages = document.querySelectorAll(".galeria-img");

    // Agregar evento click a cada imagen de la galería
    galeriaImages.forEach((img) => {
        img.addEventListener("click", () => {
            const imgElement = img as HTMLImageElement;
            if (lightbox && lightboxImg) {
                lightbox.classList.add("active");
                lightboxImg.src = imgElement.src.replace("w=600", "w=1200"); // Cargar versión más grande
                lightboxImg.alt = imgElement.alt;
                document.body.style.overflow = "hidden"; // Prevenir scroll
            }
        });
    });

    // Cerrar al hacer clic en el botón X
    closeBtn?.addEventListener("click", () => {
        closeLightbox();
    });

    // Cerrar al hacer clic fuera de la imagen
    lightbox?.addEventListener("click", (e) => {
        if (e.target === lightbox) {
            closeLightbox();
        }
    });

    // Cerrar con la tecla ESC
    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && lightbox?.classList.contains("active")) {
            closeLightbox();
        }
    });

    function closeLightbox() {
        if (lightbox) {
            lightbox.classList.remove("active");
            document.body.style.overflow = ""; // Restaurar scroll
        }
    }
</script>
